output:
  - meta
  - execution_info
  - execution_out
  - summary

pre-push:
  parallel: true
  commands:
    run-example:
      env:
        CONFIG_PATH: ".shadow/example.configuration.json"
      root: "."
      # берём diff последнего коммита
      files: git diff-tree --no-commit-id --name-only -r HEAD | grep '^example/.*\.cs$' || true
      run: echo "{staged_files}" && ./.shadow/run-send-tests.sh "$CONFIG_PATH" {staged_files}

    run-shadow-agent:
      env:
        CONFIG_PATH: ".shadow/shadow-agent.configuration.json"
      root: "."
      files: git diff-tree --no-commit-id --name-only -r HEAD | grep '^shadow-agent/.*\.cs$' || true
      run: echo "{staged_files}" && ./.shadow/run-send-tests.sh "$CONFIG_PATH" {staged_files}