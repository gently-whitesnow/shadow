output:
  - meta
  - execution_info
  - execution_out
  - summary

projects:
  commands:
    run-example:
      env:
        CONFIG_PATH: ".shadow/example.configuration.json"
      run: ./.shadow/run-send-tests.sh "$CONFIG_PATH"
    run-shadow-agent:
      env:
        CONFIG_PATH: ".shadow/shadow-agent.configuration.json"
      run: ./.shadow/run-send-tests.sh "$CONFIG_PATH"

pre-push:
  parallel: true
  commands:
    announce:
      run: echo "ðŸš€ Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹ Ð² Ñ„Ð¾Ð½Ðµâ€¦"
    background-tests:
      run: >
        bash -c '
          LOG=".shadow/test-run.log";
          echo "ðŸš€ $(date +"%Y-%m-%d %H:%M:%S") Ð—Ð°Ð¿ÑƒÑÐº Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ñ… Ñ‚ÐµÑÑ‚Ð¾Ð²" > "$LOG";
          nohup lefthook run projects >> "$LOG" 2>&1 &
        '